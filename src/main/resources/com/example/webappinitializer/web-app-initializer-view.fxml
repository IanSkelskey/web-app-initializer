<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import org.kordamp.ikonli.javafx.FontIcon?>
<?import javafx.collections.FXCollections?>
<?import java.lang.String?>

<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>
<BorderPane xmlns:fx="http://javafx.com/fxml" fx:controller="com.example.webappinitializer.WebAppInitializerController">
    <padding>
        <Insets bottom="20.0" left="20.0" right="20.0" top="20.0"/>
    </padding>
    <center>
        <StackPane fx:id="stepsContainer">
            <!-- Step 0: Welcome -->
            <VBox fx:id="step0Container" alignment="CENTER" spacing="20.0">
                <FontIcon iconLiteral="di-react" styleClass="h1"/>
                <Label text="React App Helper" styleClass="h1"/>
                <Label text="This tool will help you create a new web app."/>
                <Button fx:id="getStartedButton" text="Get Started" onAction="#handleGetStartedButtonAction"/>
            </VBox>
            <!-- Step 1: App Name and Description -->
            <VBox fx:id="step1Container" visible="false" alignment="CENTER" spacing="20.0">
                <Label text="Name and Description of App" styleClass="h2" wrapText="true" alignment="CENTER"/>
                <Label
                        text="Enter the name and description of your app. This information will be used to name the app directory, populate the title and metadata in index.html and update the relevant fields in manifest.json and package.json"
                        wrapText="true"/>
                <HBox spacing="10.0">
                    <Label text="Directory Name:"/>
                    <Label fx:id="directoryNameLabel" styleClass="form-control"/>
                </HBox>

                <Label text="Short Name:"/>
                <TextField fx:id="appShortNameTextField" promptText="Enter App Short Name" styleClass="form-control"/>
                <Label text="Full Name:"/>
                <TextField fx:id="appFullNameTextField" promptText="Enter App Full Name" styleClass="form-control"/>
                <Label text="Description:"/>
                <TextArea fx:id="appDescriptionTextField" promptText="Enter App Description" styleClass="form-control"/>
            </VBox>

            <!-- Step 2: Select Modules -->
            <VBox fx:id="step2Container" visible="false" alignment="CENTER" spacing="20.0">
                <Label text="Select Modules" styleClass="h2"/>
                <Label text="Select the modules you want to install in your app. You will be able to configure these in future steps."
                       wrapText="true"/>
                <VBox alignment="CENTER" spacing="10.0">
                    <CheckBox fx:id="prettierCheckBox" text="Prettier" styleClass="checkbox"
                              onAction="#handlePrettierCheck"/>
                    <CheckBox fx:id="tailwindCssCheckBox" text="Tailwind CSS" styleClass="checkbox" onAction="#handleTailwindCssCheck"/>
                    <CheckBox fx:id="framerMotionCheckBox" text="Framer Motion" styleClass="checkbox"/>
                </VBox>
            </VBox>

            <!-- Step 3: Configure Modules -->
            <VBox fx:id="tailWindConfigContainer" visible="false" alignment="CENTER" spacing="20.0">
                <ImageView fitHeight="100.0" fitWidth="100.0" pickOnBounds="true" preserveRatio="true">
                    <Image url="@/images/tailwind-css.png"/>
                </ImageView>
                <Label text="Configure Tailwind CSS" styleClass="h2"/>
                <Label text="Tailwind CSS is a utility-first CSS framework. You can configure it to suit your needs."
                       wrapText="true"/>
                <Label text="Tailwind CSS Configuration:"/>
            </VBox>

            <VBox fx:id="prettierConfigContainer" visible="false" alignment="CENTER" spacing="20.0">
                <ImageView fitHeight="100.0" fitWidth="100.0" pickOnBounds="true" preserveRatio="true">
                    <Image url="@/images/prettier.png"/>
                </ImageView>
                <Label text="Configure Prettier" styleClass="h2"/>
                <Label text="Prettier is an opinionated code formatter. You can configure it to suit your needs."
                       wrapText="true"/>
                <Label text="Prettier Configuration:"/>

                <HBox alignment="CENTER" spacing="20.0">
                    <VBox alignment="CENTER" spacing="10.0">
                        <CheckBox fx:id="prettierSemiCheckBox" text="Semicolons" styleClass="checkbox" onAction="#handlePrettierConfigChange"/>
                        <CheckBox fx:id="prettierSingleQuoteCheckBox" text="Single Quotes" styleClass="checkbox" onAction="#handlePrettierConfigChange"/>
                        <ComboBox fx:id="prettierTrailingCommaComboBox" value="Auto"  onAction="#handlePrettierConfigChange">
                            <items>
                                <FXCollections fx:factory="observableArrayList">
                                    <String fx:value="All"/>
                                    <String fx:value="ES5"/>
                                    <String fx:value="None"/>
                                </FXCollections>
                            </items>
                        </ComboBox>
                        <HBox alignment="CENTER">
                            <Label text="Tab Width:"/>
                            <Spinner fx:id="prettierTabWidthSpinner" min="2" max="8" initialValue="2"/>
                        </HBox>
                        <HBox alignment="CENTER">
                            <Label text="Print Width:"/>
                            <Spinner fx:id="prettierPrintWidthSpinner" min="80" max="120" initialValue="80"/>
                        </HBox>
                        <CheckBox fx:id="prettierBracketSpacingCheckBox" text="Bracket Spacing" styleClass="checkbox"  onAction="#handlePrettierConfigChange"/>
                        <HBox alignment="CENTER">
                            <Label text="End of Line:"/>
                            <ComboBox fx:id="prettierEOLComboBox" value="Auto"  onAction="#handlePrettierConfigChange">
                                <items>
                                    <FXCollections fx:factory="observableArrayList">
                                        <String fx:value="Auto"/>
                                        <String fx:value="LF"/>
                                        <String fx:value="CRLF"/>
                                        <String fx:value="CR"/>
                                    </FXCollections>
                                </items>
                            </ComboBox>
                        </HBox>
                    </VBox>
                    <Label fx:id="prettierConfigPreview" styleClass="code"/>
                </HBox>

            </VBox>

        </StackPane>
    </center>
    <bottom>
        <HBox alignment="CENTER" spacing="5.0">
            <padding>
                <Insets bottom="20.0" left="20.0" right="20.0" top="20.0"/>
            </padding>
            <Button fx:id="backButton" text="Back" onAction="#handleBackButtonAction" styleClass="btn-secondary"
                    visible="false"/>
            <Button fx:id="createAppButton" text="Create App" onAction="#onCreateAppButtonClick"
                    styleClass="btn-primary" visible="false"/>
            <Button fx:id="nextButton" text="Next" onAction="#handleNextButtonAction" styleClass="btn-primary"
                    visible="false"/>
        </HBox>
    </bottom>
</BorderPane>
